<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logistics Booking</title>
    <link rel="stylesheet" href="css/styles.css">
   
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h2>Logistics Booking Form</h2>
        <form id="bookingForm">
            <h3>Consignor (From)</h3>
            <label>Name:</label> <input type="text" id="consignorName" required>
            <label>Mobile No:</label> <input type="text" id="consignorMobile" required>
            <label>GST No:</label> <input type="text" id="consignorGST">
            <label>Address:</label> <input type="text" id="consignorAddress">
            <h3>Consignee (To)</h3>
            <label>Name:</label> <input type="text" id="consigneeName" required>
            <label>Mobile No:</label> <input type="text" id="consigneeMobile" required>
            <label>GST No:</label> <input type="text" id="consigneeGST">
            <label>Address:</label> <input type="text" id="consigneeAddress">
            <h3>Article Details</h3>
            <label>Article Type:</label> 
            <select id="articleType">
                <option value="Fragile">Fragile</option>
                <option value="Solid">Solid</option>
            </select>
            <label>Weight:</label> <input type="number" id="articleWeight" required>
            <label>Invoice No:</label> <input type="text" id="invoiceNo">
            <h3>Charges</h3>
            <label>Freight:</label> <input type="number" id="freight" value="0">
            <label>SGST (2.5%):</label> <input type="number" id="sgst" value="0">
            <label>CGST (2.5%):</label> <input type="number" id="cgst" value="0">
            <label>IGST (5%):</label> <input type="number" id="igst" value="0">
            <label>Grand Total:</label> <input type="number" id="grandTotal" readonly>
            
			<button class="btn btn-success w-100" onclick="booking()">Booking
				</button>
        </form>
    </div>
    <script>
   
    async function booking() {
    	document.getElementById("bookingForm").addEventListener("submit", function(event) {
    	    event.preventDefault();
    	    let data = {
    	        consignorName: document.getElementById("consignorName").value,
    	        consignorMobile: document.getElementById("consignorMobile").value,
    	        consigneeName: document.getElementById("consigneeName").value,
    	        consigneeMobile: document.getElementById("consigneeMobile").value,
    	        articleType: document.getElementById("articleType").value,
    	        articleWeight: document.getElementById("articleWeight").value,
    	        invoiceNo: document.getElementById("invoiceNo").value,
    	        freight: document.getElementById("freight").value,
    	        sgst: document.getElementById("sgst").value,
    	        cgst: document.getElementById("cgst").value,
    	        igst: document.getElementById("igst").value
    	    };
    	    fetch("http://localhost:8080/api/bookings/bookLoad", {
    	        method: "POST",
    	        headers: { "Content-Type": "application/json" },
    	        body: JSON.stringify(data)
    	    }).then(response => response.json())
    	      .then(data => alert("Booking saved successfully!"));
    	});


    }
</script>
</body>
</html>
